<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>friends</title>

    <style>
        .friendItemBox {
            height: 50px;
            display: flex;
            flex-direction: row;
            padding: 5px 0px;
            cursor: pointer;
        }

        .friendItemBox:hover {
            background: #e8e8e8;
        }

        .friendItemBox .avatar {
            height: 50px;
            width: 50px;
            border-radius: 25px;
            position: relative;
        }

        .friendItemBox img {
            width: 50px;
            height: 50px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        .friendItemBox .nameAndMsg {
            width: 75%;
            padding: 0px 5px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .friendItemBox .nameAndMsg div {
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .snapshot {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

    </style>
    <script src="../common/jquery-1.8.3.min.js"></script>
    <script src="../common/config.js"></script>
    <script src="../common/layui/layui.all.js"></script>
    <link href="../common/layui/css/layui.css" rel="stylesheet">
</head>
<body>
<div class="layui-tab layui-tab-brief" lay-filter="tabs">
    <ul class="layui-tab-title">
        <li class="layui-this">消息列表</li>
        <li class="">好友列表</li>
    </ul>
    <div class="layui-tab-content">
        <div class="layui-tab-item layui-show" id="snapShortList"></div>
        <div class="layui-tab-item " id="friendList"></div>
    </div>
</div>


</body>

<script type="module">
    import {loadSnapShot} from "../common/js/snapshot.js";
    import {builderFriendHtml} from "../common/js/friend.js";
    $(() => {

        //注意：选项卡 依赖 element 模块，否则无法进行功能性操作
        layui.use('element', function () {
            loadSnapShot('#snapShortList')
            let element = layui.element;
            element.on('tab(tabs)', function (data) {
                console.log(data.index);
                if (data.index === 1) {
                    builderFriendHtml("#friendList")
                }
                if (data.index === 0) {
                    loadSnapShot('#snapShortList')
                }
            });
        });
    })
</script>
</html>
